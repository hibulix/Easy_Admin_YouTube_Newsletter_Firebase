{% extends "::base.html.twig" %}

{% block title %}VideoPlayerBundle:VideoPlayer:listvideo{% endblock %}

{% block body %}



<section class="menu cid-qpg357PDtf" id="menu2-2z" data-rv-view="7041">
    <nav class="navbar navbar-dropdown align-items-center navbar-fixed-top navbar-toggleable-sm bg-color transparent">
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
                <span></span>
            </div>
        </button>
        <div class="menu-logo">
            <div class="navbar-brand">
                
                 <span class="navbar-caption-wrap">
                    <a class="navbar-caption display-4 text-white" href="https://www.facebook.com/vertingo/">
                        VERTIN GO WEBSITE!</a>
                </span>
            </div>
        </div>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav nav-dropdown display-4" data-app-modern-menu="true"><li class="nav-item"><a class="nav-link link text-white" href="index.html" aria-expanded="true"></a></li><li class="nav-item dropdown open">
                    <a class="nav-link link dropdown-toggle text-white" href="https://mobirise.com" data-toggle="dropdown-submenu" aria-expanded="true">
                        MENU BLOCKS</a><div class="dropdown-menu"><a class="dropdown-item text-white" href="{{ path('vertingo-website-introduction') }}">[Section] Introduction</a><a class="dropdown-item text-white" href="{{ path('glossary-informatics-block') }}">[Section] Glossaire Informatique Blocks</a><a class="dropdown-item text-white" href="{{ path('learn-symfony-framework') }}">[Section] Symfony Projets et Videos Blocks</a><a class="dropdown-item text-white" href="{{ path('learn-android-studio-development-and-google-play-deployment') }}">[Section] Android Api et Déploiement Blocks</a><a class="dropdown-item text-white" href="{{ path('try-my-own-google-spreadsheet') }}">[Tutoriel] Initiation à l'utilisation de Google SpreadSheet!</a><a class="dropdown-item text-white" href="{{ path('build-my-own-chatbot') }}">[Tutoriel] Créer et déployer son Chat-Bot!</a><a class="dropdown-item text-white" href="{{ path('build-my-own-vertingo-website') }}">[Tutoriel] Mettre en ligne son Site!</a><a class="dropdown-item text-white" href="{{ path('how-to-integrate-google-data-analytics') }}">[Section] Comment intégrer Google Data Analytics</a><a class="dropdown-item text-white" href="{{ path('how-to-integrate-youtube-data-analytics') }}">[Section] Comment intégrer YouTube Data Analytics</a><a class="dropdown-item text-white" href="{{ path('index-your-website-and-learn-how-to-become-well-ranked-in-search-engine') }}">[Tutoriel] Apprentissage du SEO avec Google Webmaster Tools!</a><a class="dropdown-item text-white" href="{{ path('my-youtube-list-playlist',{'pseudo': 'vertingo'}) }}">[Section] YouTube PlayLists VertinGo Website Blocks</a><a class="dropdown-item text-white" href="https://platform-media.herokuapp.com/front_file_manager?conf=default&route=/Support_PDF%21/Initiation%20%C3%A0%20AndroidStudio%21&view=list">[Section] File Manager VertinGo Website Blocks</a><a class="dropdown-item text-white" href="{{ path('social-blocks') }}">[Section] Partage Social Blocks</a><a class="dropdown-item text-white" href="{{ path('testimonials') }}">[Section] Temoignages</a></div>
                </li></ul>

        
            <div class="navbar-buttons mbr-section-btn"><a class="btn btn-sm btn-primary" href="http://vertin-go.com/VertinGoWebsite/document/zip/download.php?file=Calcul_Integral">
                    Download for Windows</a> <a class="btn btn-sm btn-primary" href="https://mobirise.com/mobirise-free-mac.zip">
                    for Mac</a></div>
        </div>
    </nav>
</section>

<section class="engine"><a href="https://mobirise.co">Mobirise</a></section>
<section class="header11 cid-qpgJbVjMeQ" id="header11-30" data-rv-view="7043">
    <!-- Block parameters controls (Blue "Gear" panel) -->     
    <!-- End block parameters -->
    <div class="container align-left">
        <div class="media-container-column mbr-white col-md-12">
            <h1 class="mbr-section-title py-3 mbr-fonts-style display-1"><strong>TUTORIEL </strong>INTEGRATION DE YOUTUBE ANALYTICS</h1>
        </div>
    </div>
</section>

<section class="mbr-section info3 cid-qpgJh3onLZ"  id="info3-33" data-rv-view="7049">
    <div class="mbr-overlay" style="opacity: 0.4; background-color: rgb(255, 127, 159);">
    </div>
    <div class="container" >
        <div class="media-container-column title col-12 col-md-10 offset-md-1">
            <h2>
                Tutoriel intégration de YouTube Analytics!(Le PDF => <a href="https://platform-media.herokuapp.com/uploads/Support_PDF!/Google%20et%20le%20R%C3%A9f%C3%A9rencement!/Referencement_Pdf.pdf" target="_blank"><img src="{{asset('assets/images/file-manager/pdf.jpg')}}" width="30px"></a>)
            </h2>
            <div class="mbr-section-btn align-left py-4">
                 
                <div class="mbr-section-btn align-left py-4">

                </div>
               
               <h6 style="text-align: center;">

               <strong>Configuration pour la connexion à YouTube Data Analytics:</strong><br><br>

<p align="center">
================================================================================
<strong>Dans Google Cloud Console créer un projet, activer YouTube Data Analytics API, et créer des identifiants Auth!</strong><br>
================================================================================
<a href="https://www.youtube.com/channel/UC2g_-ipVjit6ZlACPWG4JvA?sub_confirmation=1"><img src="{{asset('assets/images/youtube-api/youtube-analytics4.png')}}" width="900" height="250"/></a><br><br>
<a href="https://www.youtube.com/channel/UC2g_-ipVjit6ZlACPWG4JvA?sub_confirmation=1"><img src="https://raw.githubusercontent.com/vertingo/Easy_Admin_YouTube_Newsletter_Firebase/master/web/assets/images/github/google cloud console.png" width="890" height="300"/></a><br><br>

================================================================================
<strong>Placer les scripts suivants dans la partie body de votre page web:<br>
(Il ne faudra pas oublier de renseigner le client_id créer précédement depuis la console Google Cloud)</strong>
================================================================================
<textarea rows="9" data-type="textArea" data-name="ogtCode" data-onclick="selectOgtJs" wrap="off" readonly="readonly" class="W_DECORATE_ELEMENT _GAJh _GAoV _GAi4 " style="margin: 8px 0px 16px; width: 890px; height: 1200px;">
{{youtubeanalytics}}
</textarea>  
================================================================================
<strong>Il est libre à vous de choisir comment traiter les données Analytics reçu de votre Chaîne YouTube,
la en l'occurrence j'effectue une requête Ajax suite à la réception des données Analytics afin d'intéroger 
un contrôleur InsertYouTubeController, qui va éxecuter la fonction suivante avec les données passés dans la
variable POST afin de persister les données Analytics dans la base! 
Exemple de la fonction ci-dessous:</strong>
================================================================================

<textarea rows="9" data-type="textArea" data-name="ogtCode" data-onclick="selectOgtJs" wrap="off" readonly="readonly" class="W_DECORATE_ELEMENT _GAJh _GAoV _GAi4 " style="margin: 8px 0px 16px; width: 890px; height: 950px;">
public function insertanalyticsAction()
{
    $response=$_POST['response'];

    if(isset($response))
    {
        foreach($response as $items)
        {
        $day=$items[0];
        $views=$items[1];
        $estimated_minutes_watched=$items[2];
        $average_view_duration=$items[3];
        $average_view_percentage=$items[4];
        $subscribers_gained=$items[5];
        $likes=$items[6];
        $dislikes=$items[7];
        $shares=$items[8];

        $repository_youtube_infos_count = $this->getDoctrine()->getRepository('VideoPlayerBundle:YouTubeAnalytics');

        $qb = $repository_youtube_infos_count->createQueryBuilder('u');
        $qb->where('u.day=:day');
        $qb->setParameter('day', $day);
        $youtube_analytics_count = $qb->getQuery()->getResult();
        $youtube_analytics_count = count($youtube_analytics_count);

            if($youtube_analytics_count==0)
            {
            $em = $this->getDoctrine()->getManager();
            $youtube_analytics = new YouTubeAnalytics();

            $youtube_analytics->setDay($day);
            $youtube_analytics->setViews($views);
            $youtube_analytics->setEstimatedMinutesWatched($estimated_minutes_watched);
            $youtube_analytics->setAverageViewDuration($average_view_duration);
            $youtube_analytics->setAverageViewPercentage($average_view_percentage);
            $youtube_analytics->setSubscribersGained($subscribers_gained);
            $youtube_analytics->setLikes($likes);
            $youtube_analytics->setDislikes($dislikes);
            $youtube_analytics->setShares($shares);

            $em->persist($youtube_analytics);
            $em->flush();
            }

        } 

    }

        return $this->render('AppBundle:InsertYouTube:insertid.html.twig', array(
            // ...
        ));
}
</textarea>

<a href="https://www.youtube.com/channel/UC2g_-ipVjit6ZlACPWG4JvA?sub_confirmation=1"><img src="{{asset('assets/images/youtube-api/youtube-analytics.png')}}" width="467" height="77"/></a><br><br>
================================================================================
<strong>Intégrer les deux boutons pour autoriser et charger les données Analytics avec le code ci-dessous:</strong>
================================================================================
<textarea rows="9" data-type="textArea" data-name="ogtCode" data-onclick="selectOgtJs" wrap="off" readonly="readonly" class="W_DECORATE_ELEMENT _GAJh _GAoV _GAi4 " style="margin: 8px 0px 16px; width: 890px; height: 60px;">
{{youtubeanalytics2}}
</textarea>

================================================================================
<strong>Suite au clic sur Authorize First And Load:<br>
(Connecter-vous avec votre compte Google GMail pour autoriser la réception des données YouTube Analytics)</strong><br>
================================================================================
<a href="https://www.youtube.com/channel/UC2g_-ipVjit6ZlACPWG4JvA?sub_confirmation=1"><img src="{{asset('assets/images/youtube-api/youtube-analytics2.png')}}" width="755" height="835"/></a><br><br>
================================================================================
<strong>Suite au clic sur Load YouTube Analytics:<br>(Persistance des données via l'exécution de la fonction: insertanalyticsAction du contrôleur InsertYouTubeController dans une table YouTube Analytics dans une base PostGreSQL sur Heroku)</strong><br>
================================================================================
<a href="https://www.youtube.com/channel/UC2g_-ipVjit6ZlACPWG4JvA?sub_confirmation=1"><img src="{{asset('assets/images/youtube-api/youtube-analytics3.png')}}" width="890" height="500"/></a>
</p>
================================================================================     
<strong>Suppléments de configuration pour la connexion à YouTube Data API V3:<br><br>

Créer un projet dans Google Cloud Console!<br> Activer YouTube Data Api V3</strong><br>
================================================================================
<p align="center">
<a href="https://www.youtube.com/channel/UC2g_-ipVjit6ZlACPWG4JvA?sub_confirmation=1"><img src="{{asset('assets/images/youtube-api/youtube-dataapi.png')}}" width="890" height="250"/></a><br><br>
<a href="https://www.youtube.com/channel/UC2g_-ipVjit6ZlACPWG4JvA?sub_confirmation=1"><img src="https://raw.githubusercontent.com/vertingo/Easy_Admin_YouTube_Newsletter_Firebase/master/web/assets/images/github/google cloud console.png" width="890" height="300"/></a>
<br>
================================================================================
<br>
<strong>Cliquer sur créer des identifiants Id Client Auth</strong>
<br>
================================================================================
<br>
<a href="https://www.youtube.com/channel/UC2g_-ipVjit6ZlACPWG4JvA?sub_confirmation=1"><img src="https://raw.githubusercontent.com/vertingo/Easy_Admin_YouTube_Newsletter_Firebase/master/web/assets/images/github/google cloud console2.png" width="890" height="300"/></a>
<br>
</p>
================================================================================
<strong>Origines JavaScript autorisées:<br>
- http://votre_heroku_app.herokuapp.com<br><br>

Et URI de redirection autorisés:<br>
- http://votre_heroku_app.herokuapp.com/admin/dashboard/<br>
- http://localhost/easyadmin-master/web/app_dev.php/admin/dashboard/<br><br>

Une fois la clé créé copier coller cette clé puis renseigné la dans le dossier web/youtube:<br>
- auth.js [ligne 5]<br>
- analytics_codelab.js [ligne 4]<br><br>

 Une fois la connexion via Google configuré connecter vous sur votre Interface Admin afin de synchroniser votre compte avec YouTube
 et ensuite accédez à la page suivante:<br> - https://votre_heroku_app.herokuapp.com/listplaylist?pseudo=votre_nom_d_utilisateur<br>
 Voici l'exemple de ma page Playlist automatiquement généré une fois loggé sur mon espace administrateur et la connexion établi 
 via YouTube Data Api V3:<br> - https://platform-media.herokuapp.com/listplaylist?pseudo=vertingo</strong><br><br>
================================================================================
<p align="center">
<br><strong>Ci-dessous la page Playlist Youtube généré une fois synchronisé avec YouTube!</strong>
<a href="https://www.youtube.com/channel/UC2g_-ipVjit6ZlACPWG4JvA?sub_confirmation=1"><img src="https://raw.githubusercontent.com/vertingo/Easy_Admin_YouTube_Newsletter_Firebase/master/web/assets/images/github/playlist_youtube.gif" width="890" height="300"/></a>
</p>
<br><br>
</h6>

<p align="center">
  <a href="https://www.youtube.com/channel/UC2g_-ipVjit6ZlACPWG4JvA?sub_confirmation=1"><img src="https://platform-media.herokuapp.com/assets/images/reseaux-sociaux/youtube2.png" width="400" height="250"/></a>
  <a href="https://www.facebook.com/vertingo/"><img src="https://platform-media.herokuapp.com/assets/images/reseaux-sociaux/rejoins_nous.png" width="400" height="250"/></a>
</p>

</div>
</div>
</div>
</section>

<section class="features18 popup-btn-cards cid-qpPu3C112r" id="features18-5f" data-rv-view="6784">
    <div class="container">
        <div class="media-container-row pt-5">
            <div class="card p-3 col-12 col-md-6 col-lg-4">
                <div class="card-wrapper ">
                    <div class="card-img">
                        <div class="mbr-overlay"></div>
                        <div class="mbr-section-btn text-center">
                            <a href="{{ path('vertingo-website-introduction') }}" class="btn btn-primary">Live Demo</a>
                        </div>
                        <a href="{{ path('vertingo-website-introduction') }}"><img src="assets/images/intro-1.jpg" alt="Mobirise" title="" media-simple="true"></a>
                    </div>
                    <div class="card-box">
                        <h4 class="card-title pb-3 mbr-fonts-style display-7">
                            INTROS</h4>
                    </div>
                </div>
            </div>
            <div class="card p-3 col-12 col-md-6 col-lg-4">
                <div class="card-wrapper">
                    <div class="card-img">
                        <div class="mbr-overlay"></div>
                        <div class="mbr-section-btn text-center">
                            <a href="{{ path('learn-symfony-framework') }}" class="btn btn-primary">
                                Live Demo</a>
                        </div>
                        <a href="{{ path('learn-symfony-framework') }}"><img src="assets/images/images-video.jpg" alt="Mobirise" title="" media-simple="true"></a>
                    </div>
                    <div class="card-box">
                        <h4 class="card-title pb-3 mbr-fonts-style display-7">IMAGES &amp; VIDEOS</h4>
                    </div>
                </div>
            </div>

            <div class="card p-3 col-12 col-md-6 col-lg-4">
                <div class="card-wrapper">
                    <div class="card-img">
                        <div class="mbr-overlay"></div>
                        <div class="mbr-section-btn text-center">
                            <a href="{{ path('learn-android-studio-development-and-google-play-deployment') }}" class="btn btn-primary">
                                Live Demo</a>
                        </div>
                        <a href="{{ path('learn-android-studio-development-and-google-play-deployment') }}"><img src="assets/images/slider.jpg" alt="Mobirise" title="" media-simple="true"></a>
                    </div>
                    <div class="card-box">
                        <h4 class="card-title pb-3 mbr-fonts-style display-7">
                            SLIDERS</h4>      
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="features18 popup-btn-cards cid-qpPvFSLFry" id="features18-5m" data-rv-view="6796">
    <div class="container">    
        <div class="media-container-row pt-5">
            <div class="card p-3 col-12 col-md-6 col-lg-4">
                <div class="card-wrapper ">
                    <div class="card-img">
                        <div class="mbr-overlay"></div>
                        <div class="mbr-section-btn text-center">
                            <a href="{{ path('glossary-informatics-block') }}" class="btn btn-primary">
                                Live Demo
                            </a>
                        </div>
                        <img src="assets/images/info.jpg" alt="Mobirise" title="" media-simple="true">
                    </div>
                    <div class="card-box">
                        <h4 class="card-title pb-3 mbr-fonts-style display-7">
                            INFO BLOCKS</h4>
                    </div>
                </div>
            </div>
		<div class="card p-3 col-12 col-md-6 col-lg-4">
                <div class="card-wrapper ">
                    <div class="card-img">
                        <div class="mbr-overlay"></div>
                        <div class="mbr-section-btn text-center">
                            <a href="{{ path('social-blocks') }}" class="btn btn-primary">
                                Live Demo
                            </a>
                        </div>
                        <img src="assets/images/social.jpg" alt="Mobirise" title="" media-simple="true">
                    </div>
                    <div class="card-box">
                        <h4 class="card-title pb-3 mbr-fonts-style display-7">
                            SOCIAL&nbsp;BLOCKS</h4>
                        
                    </div>
                </div>
            </div>
            <div class="card p-3 col-12 col-md-6 col-lg-4">
                <div class="card-wrapper">
                    <div class="card-img">
                        <div class="mbr-overlay"></div>
                        <div class="mbr-section-btn text-center"><a href="{{ path('testimonials') }}" class="btn btn-primary">
                                Live Demo</a></div>
                        <img src="assets/images/testimonials.jpg" alt="Mobirise" title="" media-simple="true">
                    </div>
                    <div class="card-box">
                        <h4 class="card-title pb-3 mbr-fonts-style display-7">
                            TESTIMONIALS</h4>      
                    </div>
                </div>
            </div>
			 </div>
    </div>

</section>

<section class="mbr-section info3 cid-qpgJh3onLZ" id="info3-33" data-rv-view="7049">

    <div style='overflow-x:scroll;overflow-y:hidden;width:1500px;height:350px'>
    <div style='width:1500px;height:350px'>
     {{ sonata_block_render({ 'type': 'sonata.block.service.rss' ,'limit': 3}, {
    'title': 'Vertin Go Website Feeds',
    'url': 'http://feeds.feedburner.com/CommentFonderUnBusinessEnLigne'
}) }}
    </div>
    </div>

    <div class="container">
        <div class="media-container-row align-center mbr-white">
            <div class="col-12">
                <p class="mbr-text mb-0 mbr-fonts-style display-7">
                    © Copyright 2017 Mobirise - All Rights Reserved
                </p>
            </div>
        </div>
    </div>
</section>

<script src="{{ asset('bundles/usnnewsletter/js/main.js') }}"></script>

  <script src="{{ asset('assets/web/assets/jquery/jquery.min.js') }}"></script>
  <script src="{{ asset('assets/popper/popper.min.js') }}"></script>
  <script src="{{ asset('assets/tether/tether.min.js') }}"></script>
  <script src="{{ asset('assets/bootstrap/js/bootstrap.min.js') }}"></script>
  <script src="{{ asset('assets/smooth-scroll/smooth-scroll.js') }}"></script>
  <script src="{{ asset('assets/dropdown/js/script.min.js') }}"></script>
  <script src="{{ asset('assets/touch-swipe/jquery.touch-swipe.min.js') }}"></script>
  <script src="{{ asset('assets/theme/js/script.js') }}"></script>
  

{% endblock %}
